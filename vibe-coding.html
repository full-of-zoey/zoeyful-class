<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>바이브코딩 워크숍 - Zoeyful Class</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <main class="detail">
        <header class="detail-header">
            <a href="index.html" class="back-link">← Zoeyful Class</a>
            <p class="detail-date">20250131</p>
            <h1 class="detail-title">바이브코딩 워크숍</h1>
        </header>

        <section class="section section-photo">
            <img src="https://images.unsplash.com/photo-1517694712202-14dd9538aa97?w=1200&q=80" alt="바이브코딩 워크숍" class="photo">
        </section>

        <section class="section">
            <h2 class="section-title">About</h2>
            <p>
                바이브코딩을 이해하고, 끌로드코드라는 도구를 내 랩탑에 설치하고,
                간단한 서비스를 만들어 보면서 작동원리를 알아보는 시간.
            </p>
        </section>

        <section class="section">
            <h2 class="section-title">Note from Zoey</h2>
            <p>
                작년에 바이브코딩을 알게 됐어요. 이것저것 만들어보면서 재미를 느끼던 중,
                친구들에게도 알려주고 같이 뭔가 만들어보면 좋겠다는 생각이 들었습니다.
                조이풀클래스는 제가 경험한 좋은 것들을 친구들과 나누는 작은 모임이에요.
                강의로 끝나지 않고, 모인 사람들이 친구가 되고 그다음도 같이 도모해볼 수 있길 바라요.
            </p>
        </section>

        <section class="section">
            <h2 class="section-title">Info</h2>
            <ul>
                <li>일시: 1월 31일(토) 오후 3시-6시</li>
                <li>장소: 서점 선샤이닝 (강남역 4번 출구)</li>
                <li>강사: 동동 (현 리벨리온 개발자, 전 시소 공동대표)</li>
                <li>준비물: 각자의 랩탑, 끌로드 구독(권장)</li>
            </ul>
        </section>

        <section class="section">
            <h2 class="section-title">Program</h2>
            <ul>
                <li>바이브코딩이란?</li>
                <li>개발 기본 알기</li>
                <li>끌로드 코드 설치</li>
                <li>간단한 프로덕트 만들기</li>
                <li>회고</li>
            </ul>
        </section>

        <section class="section">
            <h2 class="section-title">Members</h2>
            <p>무옥, 은선, 보름, 보라, 성희, 채원, 주하, 혜지</p>
        </section>

        <section class="section">
            <h2 class="section-title">Comments</h2>
            <div class="comments" id="comments">
            </div>

            <form class="comment-form" id="commentForm">
                <div class="form-row">
                    <input type="text" id="authorInput" class="input-author" placeholder="이름" maxlength="10" required>
                    <input type="text" id="textInput" class="input-text" placeholder="후기를 남겨주세요" required>
                </div>
                <button type="submit" class="btn-submit">등록</button>
            </form>
        </section>

        <footer class="home-footer">
            <p class="copyright">© Zoeyful Foundation</p>
            <p class="sister-site">
                <a href="https://full-of-zoey.github.io/culture_log/" target="_blank">Culture Log →</a>
            </p>
        </footer>
    </main>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getFirestore, collection, addDoc, query, orderBy, onSnapshot, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBkroK82iF79Zicdk96pthEPya0SIMMAIc",
            authDomain: "zoeyful-class.firebaseapp.com",
            projectId: "zoeyful-class",
            storageBucket: "zoeyful-class.firebasestorage.app",
            messagingSenderId: "236510346953",
            appId: "1:236510346953:web:54e446cc5612c9dab0d718"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        const form = document.getElementById('commentForm');
        const commentsDiv = document.getElementById('comments');
        const authorInput = document.getElementById('authorInput');
        const textInput = document.getElementById('textInput');

        // 댓글 실시간 불러오기
        const q = query(collection(db, "vibe-coding-comments"), orderBy("createdAt", "asc"));
        onSnapshot(q, (snapshot) => {
            commentsDiv.innerHTML = '';
            snapshot.forEach((doc) => {
                const data = doc.data();
                const comment = document.createElement('div');
                comment.className = 'comment';
                comment.innerHTML = `
                    <span class="comment-author">${data.author}</span>
                    <span class="comment-text">"${data.text}"</span>
                `;
                commentsDiv.appendChild(comment);
            });
        });

        // 댓글 저장
        form.addEventListener('submit', async (e) => {
            e.preventDefault();

            const author = authorInput.value.trim();
            const text = textInput.value.trim();

            if (author && text) {
                await addDoc(collection(db, "vibe-coding-comments"), {
                    author: author,
                    text: text,
                    createdAt: serverTimestamp()
                });

                authorInput.value = '';
                textInput.value = '';
            }
        });
    </script>
</body>
</html>
